const IMAGES=['images/A Mark Blue-Green.png','images/A Mark Blue-Orange.png','images/A Mark Blue-Red.png','images/A Mark Greyscale.png','images/A Mark Navy-Green.png','images/A Mark White.png'];
const NUM_HOLES=9,TAPS_TO_WIN=5,DISPLAY_TIME=3000;
let taps=0,currentTimeout;
const board=document.getElementById('game-board'),tapsDisplay=document.getElementById('taps'),result=document.getElementById('result'),skipLink=document.getElementById('skip'),holes=[];
for(let i=0;i<NUM_HOLES;i++){const hole=document.createElement('div');hole.className='hole';board.appendChild(hole);holes.push(hole);}
function showMole(){holes.forEach(h=>h.innerHTML='');const hole=holes[Math.floor(Math.random()*NUM_HOLES)],img=document.createElement('img');img.src=IMAGES[Math.floor(Math.random()*IMAGES.length)];img.className='mole';hole.appendChild(img);img.addEventListener('click',()=>{if(window.fireworks){const r=img.getBoundingClientRect();window.fireworks.fire({x:r.left+r.width/2,y:r.top+r.height/2,particles:20,trace:2});}taps++;tapsDisplay.textContent=`Taps: ${taps}/${TAPS_TO_WIN}`;hole.innerHTML='<div class="celebration">ðŸŽ†</div>';if(taps>=TAPS_TO_WIN)endGame();});currentTimeout=setTimeout(showMole,DISPLAY_TIME);}
function endGame(){clearTimeout(currentTimeout);board.classList.add('hidden');tapsDisplay.classList.add('hidden');skipLink.classList.add('hidden');result.classList.remove('hidden');}
showMole();